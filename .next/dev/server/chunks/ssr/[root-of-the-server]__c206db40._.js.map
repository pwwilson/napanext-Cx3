{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/napanext-Cx3/pages/display.js"],"sourcesContent":["import { useEffect, useState } from 'react'\n\nfunction groupBy(list, key){\n  return list.reduce((acc,item)=>{ (acc[item.type] ||= []).push(item); return acc }, {})\n}\n\nexport default function Display(){\n  const [entries, setEntries] = useState([])\n\n  useEffect(()=>{\n    let mounted = true\n    const f = async () =>{\n      try{\n        const res = await fetch('/api/entries')\n        const data = await res.json()\n        if(mounted) setEntries(data)\n      }catch(e){console.error(e)}\n    }\n    f()\n    const id = setInterval(f, 2500)\n    return ()=>{ mounted=false; clearInterval(id) }\n  },[])\n\n  const byType = groupBy(entries, 'type')\n\n  return (\n    <div style={{padding:20}}>\n      <h1 className=\"mono\">Cx3 Live</h1>\n      <div className=\"columns\">\n        <div className=\"col card\">\n          <h3>Compliments</h3>\n          {(byType.compliments || []).map(e=> <div key={e.id} className=\"card\">{e.targetName?`To ${e.targetName} â€” `:''}{e.message}</div>)}\n        </div>\n\n        <div className=\"col card\">\n          <h3>Confessions</h3>\n          <div style={{maxHeight: '60vh', overflowY: 'auto'}}>\n            {(byType.confessions || []).map(e=> <div key={e.id} className=\"card\">{e.message}</div>)}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"card\" style={{marginTop:16}}>\n        <h3>Captions (latest 5)</h3>\n        {(byType.captions || []).slice(0,5).map(e=> <div key={e.id} className=\"card\">{e.message}</div>)}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,QAAQ,IAAI,EAAE,GAAG;IACxB,OAAO,KAAK,MAAM,CAAC,CAAC,KAAI;QAAS,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC;QAAO,OAAO;IAAI,GAAG,CAAC;AACtF;AAEe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAEzC,IAAA,gHAAS,EAAC;QACR,IAAI,UAAU;QACd,MAAM,IAAI;YACR,IAAG;gBACD,MAAM,MAAM,MAAM,MAAM;gBACxB,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAG,SAAS,WAAW;YACzB,EAAC,OAAM,GAAE;gBAAC,QAAQ,KAAK,CAAC;YAAE;QAC5B;QACA;QACA,MAAM,KAAK,YAAY,GAAG;QAC1B,OAAO;YAAM,UAAQ;YAAO,cAAc;QAAI;IAChD,GAAE,EAAE;IAEJ,MAAM,SAAS,QAAQ,SAAS;IAEhC,qBACE,qKAAC;QAAI,OAAO;YAAC,SAAQ;QAAE;;0BACrB,qKAAC;gBAAG,WAAU;0BAAO;;;;;;0BACrB,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;0CAAG;;;;;;4BACH,CAAC,OAAO,WAAW,IAAI,EAAE,EAAE,GAAG,CAAC,CAAA,kBAAI,qKAAC;oCAAe,WAAU;;wCAAQ,EAAE,UAAU,GAAC,CAAC,GAAG,EAAE,EAAE,UAAU,CAAC,GAAG,CAAC,GAAC;wCAAI,EAAE,OAAO;;mCAA1E,EAAE,EAAE;;;;;;;;;;;kCAGpD,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;0CAAG;;;;;;0CACJ,qKAAC;gCAAI,OAAO;oCAAC,WAAW;oCAAQ,WAAW;gCAAM;0CAC9C,CAAC,OAAO,WAAW,IAAI,EAAE,EAAE,GAAG,CAAC,CAAA,kBAAI,qKAAC;wCAAe,WAAU;kDAAQ,EAAE,OAAO;uCAAjC,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;0BAKxD,qKAAC;gBAAI,WAAU;gBAAO,OAAO;oBAAC,WAAU;gBAAE;;kCACxC,qKAAC;kCAAG;;;;;;oBACH,CAAC,OAAO,QAAQ,IAAI,EAAE,EAAE,KAAK,CAAC,GAAE,GAAG,GAAG,CAAC,CAAA,kBAAI,qKAAC;4BAAe,WAAU;sCAAQ,EAAE,OAAO;2BAAjC,EAAE,EAAE;;;;;;;;;;;;;;;;;AAIlE"}}]
}